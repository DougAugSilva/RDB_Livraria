Atualizações 20/09/2025

-- alterei tabela NOTA_FISCAL para conter coluna VALOR_NF (alterar no diagrama e no banco).
-- alterei a proceadure de inserlçao da nota fiscal, para o cálculo automático do valor da nota.
-- alterei tabela TIPO_PAGAMENTO para conter quanrtidade das parcelas refrente a cada tipo.
============================================================================
Querys utilizadas 

-------------------------------------------------------
-- alteração da tabela nota fiscal para inserção dos vallores da venda
-- esta inserção multiplica a quantidade do item pelo valor do item.

ALTER TABLE LIVRARIADB.dbo.TIPO_PAGAMENTO
ADD NUMERO_PARCELAS INT;

UPDATE LIVRARIADB.dbo.TIPO_PAGAMENTO
SET NUMERO_PARCELAS = 
    CASE 
        WHEN TIPO = 'A vista' THEN 1
        WHEN TIPO = '30 dias' THEN 1
        WHEN TIPO = '30/60 dias' THEN 2
        WHEN TIPO = '30/60/90 dias' THEN 3
        WHEN TIPO = 'Entrada/30 dias' THEN 2
        WHEN TIPO = 'Entrada/30/60 dias' THEN 3
        WHEN TIPO = 'Entrada/30/60/90 dias' THEN 4
        ELSE 1 
    END;
=======================================================================
Tarefas
[1]
-- Alteraar código de criação dio banco de dados LIVRARIADB para comportar as novas mudanças feitas no
-- LIVRARIADB e as mudanças nas tabelas NOTA_FISCAL E TIPO_PAGAMENTO. [OK]

[2]
-- Alterar diagrama (modelo teórico) do banco de dados depouis de mudar o código.

[3]
-- preencher a tabela  PROG_RECEBIMENTO com base na nota fiscal, agora a tabela pago é 0, 
-- depois somente a coluna PAGO será alterada, com base em um csv que atualiza os itens pagos.
-- A proceadure de povoamento da tabela PROG_RECEBIMENTO deve conter um laço insere o itnes 
-- condoem o numero de parcelas, por exemplo, uma nota em 3 pareclas deverá ter seu valor total
-- dividido por 3 e inserido em 3 parcelas distinastas, com 3 datas de vencimento distintas.
